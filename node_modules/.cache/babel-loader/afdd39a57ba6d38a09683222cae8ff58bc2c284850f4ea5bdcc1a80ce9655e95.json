{"ast":null,"code":"import'./Profile.css';import React from'react';import{useNavigate}from'react-router-dom';import{AppContext}from'../../contexts/CurrentUserContext';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Profile(_ref){let{setLoggedIn}=_ref;const currentUser=React.useContext(AppContext);const[name,setName]=React.useState('');const[email,setEmail]=React.useState('');const history=useNavigate();React.useEffect(()=>{if(currentUser){setName(currentUser.name);setEmail(currentUser.email);}},[currentUser]);function handleNameChange(e){setName(e.target.value);}function handleEmailChange(e){setEmail(e.target.value);}function signOut(){setLoggedIn(false);history('/',{replace:true});}return/*#__PURE__*/_jsxs(\"main\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"profile__title\",children:[\"\\u041F\\u0440\\u0438\\u0432\\u0435\\u0442, \",currentUser.name,\" !\"]}),/*#__PURE__*/_jsxs(\"form\",{className:\"profile__form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"profile__info\",children:\"\\u0418\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"input\",{required:true,className:\"profile__input\",type:\"text\",value:name,onChange:handleNameChange})]}),/*#__PURE__*/_jsx(\"p\",{className:\"register__error\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"profile__info\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{required:true,className:\"profile__input\",type:\"text\",value:email,onChange:handleEmailChange})]}),/*#__PURE__*/_jsx(\"p\",{className:\"register__error\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit  effect profile__edit_error\",type:\"submit\",children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile__logout  effect\",onClick:signOut,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"})]});}export default Profile;","map":{"version":3,"names":["React","useNavigate","AppContext","jsxs","_jsxs","jsx","_jsx","Profile","_ref","setLoggedIn","currentUser","useContext","name","setName","useState","email","setEmail","history","useEffect","handleNameChange","e","target","value","handleEmailChange","signOut","replace","className","children","required","type","onChange","onClick"],"sources":["/Users/book/Desktop/movies-explorer-frontend/src/components/Profile/Profile.js"],"sourcesContent":["import './Profile.css';\nimport React from 'react';\nimport { useNavigate, } from 'react-router-dom';\nimport { AppContext } from '../../contexts/CurrentUserContext';\n\nfunction Profile({ setLoggedIn }) {\n\n  const currentUser = React.useContext(AppContext);\n  const [name, setName] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const history = useNavigate();\n\n  React.useEffect(() => {\n    if (currentUser) {\n      setName(currentUser.name);\n      setEmail(currentUser.email);\n    }\n  }, [currentUser]);\n\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function signOut() {\n    setLoggedIn(false);\n    history('/', { replace: true })\n  }\n\n  return (\n    <main className='profile'>\n      <h1 className='profile__title'>Привет, {currentUser.name} !</h1>\n      <form className='profile__form' >\n        <div className='profile__field'>\n          <label className='profile__info'>Имя</label>\n          <input required className='profile__input' type=\"text\" value={name} onChange={handleNameChange} />\n        </div>\n        <p className='register__error'></p>\n        <div className='profile__field'>\n          <label className='profile__info'>E-mail</label>\n          <input required className='profile__input' type=\"text\" value={email} onChange={handleEmailChange} />\n        </div>\n        <p className='register__error'></p>\n        <button className='profile__edit  effect profile__edit_error' type=\"submit\">Редактировать</button>\n      </form>\n      <div className='profile__logout  effect' onClick={signOut}>Выйти из аккаунта</div>\n    </main>\n  )\n}\n\nexport default Profile;"],"mappings":"AAAA,MAAO,eAAe,CACtB,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAS,kBAAkB,CAC/C,OAASC,UAAU,KAAQ,mCAAmC,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAE/D,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAkB,IAAjB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CAE9B,KAAM,CAAAE,WAAW,CAAGV,KAAK,CAACW,UAAU,CAACT,UAAU,CAAC,CAChD,KAAM,CAACU,IAAI,CAAEC,OAAO,CAAC,CAAGb,KAAK,CAACc,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,KAAK,CAACc,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAG,OAAO,CAAGhB,WAAW,CAAC,CAAC,CAE7BD,KAAK,CAACkB,SAAS,CAAC,IAAM,CACpB,GAAIR,WAAW,CAAE,CACfG,OAAO,CAACH,WAAW,CAACE,IAAI,CAAC,CACzBI,QAAQ,CAACN,WAAW,CAACK,KAAK,CAAC,CAC7B,CACF,CAAC,CAAE,CAACL,WAAW,CAAC,CAAC,CAGjB,QAAS,CAAAS,gBAAgBA,CAACC,CAAC,CAAE,CAC3BP,OAAO,CAACO,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACzB,CAEA,QAAS,CAAAC,iBAAiBA,CAACH,CAAC,CAAE,CAC5BJ,QAAQ,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC1B,CAEA,QAAS,CAAAE,OAAOA,CAAA,CAAG,CACjBf,WAAW,CAAC,KAAK,CAAC,CAClBQ,OAAO,CAAC,GAAG,CAAE,CAAEQ,OAAO,CAAE,IAAK,CAAC,CAAC,CACjC,CAEA,mBACErB,KAAA,SAAMsB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvBvB,KAAA,OAAIsB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAAC,wCAAQ,CAACjB,WAAW,CAACE,IAAI,CAAC,IAAE,EAAI,CAAC,cAChER,KAAA,SAAMsB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC7BvB,KAAA,QAAKsB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrB,IAAA,UAAOoB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,oBAAG,CAAO,CAAC,cAC5CrB,IAAA,UAAOsB,QAAQ,MAACF,SAAS,CAAC,gBAAgB,CAACG,IAAI,CAAC,MAAM,CAACP,KAAK,CAAEV,IAAK,CAACkB,QAAQ,CAAEX,gBAAiB,CAAE,CAAC,EAC/F,CAAC,cACNb,IAAA,MAAGoB,SAAS,CAAC,iBAAiB,CAAI,CAAC,cACnCtB,KAAA,QAAKsB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BrB,IAAA,UAAOoB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC/CrB,IAAA,UAAOsB,QAAQ,MAACF,SAAS,CAAC,gBAAgB,CAACG,IAAI,CAAC,MAAM,CAACP,KAAK,CAAEP,KAAM,CAACe,QAAQ,CAAEP,iBAAkB,CAAE,CAAC,EACjG,CAAC,cACNjB,IAAA,MAAGoB,SAAS,CAAC,iBAAiB,CAAI,CAAC,cACnCpB,IAAA,WAAQoB,SAAS,CAAC,2CAA2C,CAACG,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,gFAAa,CAAQ,CAAC,EAC9F,CAAC,cACPrB,IAAA,QAAKoB,SAAS,CAAC,yBAAyB,CAACK,OAAO,CAAEP,OAAQ,CAAAG,QAAA,CAAC,8FAAiB,CAAK,CAAC,EAC9E,CAAC,CAEX,CAEA,cAAe,CAAApB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}